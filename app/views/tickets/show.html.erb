<div class="container">
  <div class="ticket-header">
      <h1>Details for Ticket #<%= @ticket.id %></h1>
      <div class="inline">
        <%= link_to  "Back to Project", project_path(@ticket.project_id) %> |
        <%= link_to  "Edit", edit_ticket_path(@ticket) %>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="ticket-details row">
      <div class="container ticket-info col">
        <div class="row">
          <div class="col-sm">
            <p>Ticket Title</p>
            <%= @ticket.title %>
          </div>
          <div class="col-sm">
            <p>Ticket Description</p>
            <%= @ticket.description %>
          </div>
        </div>
          <hr>
        <div class="row">
          <div class="col-sm">
            <p>Assigned Developer</p>
            <%= @ticket.user.name %>
          </div>
          <div class="col-sm">
            <p>Submitter</p>
            <%= @ticket.submitted_by %>
          </div>
        </div>
          <hr>
        <div class="row">
          <div class="col-sm">
            <p>Project</p>
            <%= link_to @ticket.project.name, @project %>
          </div>
          <div class="col-sm">
            <p>Ticket Priority</p>
            <%= @ticket.priority.name %>
          </div>
        </div>
          <hr>
        <div class="row">
          <div class="col-sm">
            <p>Ticket Status</p>
            <%= @ticket.status.name %>
          </div>
          <div class="col-sm">
            <p>Ticket Type</p>
            <div>Put type here</div>
          </div>
        </div>
          <hr>
        <div class="row">
          <div class="col-sm">
            <p>Created</p>
            <%= @ticket.created_at %>
          </div>
          <div class="col-sm">
            <p>Updated</p>
            <%= @ticket.updated_at %>
          </div>
        </div>
        <%= link_to @ticket, method: :delete, data: { confirm: 'This action cannot be undone. Are you sure you want to delete this ticket?' }, class: 'btn-sm btn-danger btn-icon-split text-decoration-none' do %>
          <div class="icon">
            <div class="fas fa-trash"></div>
          </div>
          <div class="text">Delete</div>
        <% end %>
      </div>
      <div class="container ticket-comments-form col">
        <%= form_with(model: @comment, url: ticket_comments_path(@ticket), method: :post, local: true) do |f| %>
          <%= f.text_field :message, class: 'form-control' %>
          <div class='btn btn-success btn-icon-split mt-3 btn-sm'>
            <div class="icon">
              <div class="fas fa-check"></div>
            </div>
            <%= f.submit class: 'btn btn-success btn-sm'%>
          </div>
        <% end %>
      </div>
      <div class="ticket-comments">
        <table class='content-table table-sortable'>
          <thead class="text-uppercase">
            <tr>
              <th>Commenter</th>
              <th>Message</th>
              <th>Created at</th>
            </tr>
          </thead>
            <tbody>
              <% unless @comments.empty? %>
                <% @comments.each do |c| %>
                  <tr>
                    <td><%= c.commenter %></td>
                    <td><%= c.message %></td>
                    <td><%= c.created_at %></td>
                  </tr>
                <% end %>
              <% else %>
                <tr>
                  <td colspan="3" class='text-center'>No comments yet</td>
                </tr>
              <% end %>
            </tbody>
        </table>
      </div>
    </div>
  </div>
</div>