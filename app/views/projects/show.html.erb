<div class="container">
  <div class="project-header">
    <h1>Details for Project #<%= @project.id %></h1>
    <div class="inline">
      <%= link_to  "Back to List", projects_path %> |
      <%= link_to  "Edit", edit_project_path(@project) %> |
      <%= link_to  "Delete", @project, method: :delete, data: { confirm: "This action cannot be undone. All of this project's tickets will also be deleted. Are you sure?"} %>
    </div>
  </div>
  <div class="project-info row">
    <div class="col-6">
      <p>Project Name</p>
      <%= @project.name %>
    </div>
    <div class="col-6">
      <p>Project Description</p>
      <%= @project.description %>
    </div>
  </div>

  <p>Start date: <%= @project.start_date %></p>

  <p>Target end date: <%= @project.target_end_date %></p>

  <p>Project created at <%= @project.created_at %></p>

  <p>Project created by <%= @project.user.name %></p>

  <div class="ticket-info">
    <div class="ticket-header">
    <h2>Tickets for this Project</h2>
    <h3>Condensed Ticket Details</h3>
    <table class='table'>
      <thead class='thead-light text-uppercase'>
        <tr>
          <th>Title</th>
          <th>Submitter</th>
          <th>Developer</th>
          <th>Status</th>
          <th>Created</th>
          <th>
            <%= link_to new_project_ticket_path(@project), class: 'btn btn-primary btn-icon-split text-decoration-none' do %>
            <div class="icon">
              <div class="fas fa-plus"></div>
            </div>
            <div class="text">Add a Ticket</div>
          <% end %>
          </th>
        </tr>
      </thead>
      <tbody class='table-striped'>
        <% @tickets.each do |t| %>
          <tr>
            <td><%= t.title %></td>
            <td><%= t.submitted_by %></td>
            <td><%= t.user.name %></td>
            <td><%= t.status.name %></td>
            <td><%= t.created_at.strftime("%Y/%m/%d %H:%M") %></td>
            <td>
              <%= link_to ticket_path(t.id), class: 'btn-sm btn-secondary btn-icon-split text-decoration-none' do %>
                <div class="icon">
                  <div class="fas fa-info-circle"></div>
                </div>
                <div class="text">Details</div>
              <% end %>
              <%= link_to ticket_path(t.id), method: :delete, data: { confirm: 'This action cannot be undone. Are you sure you want to delete this ticket?' }, class: 'btn-sm btn-danger btn-icon-split text-decoration-none' do %>
                <div class="icon">
                  <div class="fas fa-trash"></div>
                </div>
                <div class="text">Delete</div>
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
    </div>
  </div>

</div>